{{ ansible_managed | comment }}

[Service]
Environment="KAFKA_BROKER_LIST={{ prometheus_kafka_adapter_kafka_broker_list }}"
Environment="KAFKA_TOPIC={{ prometheus_kafka_adapter_kafka_topic }}"
Environment="KAFKA_BATCH_NUM_MESSAGES={{ prometheus_kafka_adapter_kafka_batch_num_messages }}"
Environment="SERIALIZATION_FORMAT={{ prometheus_kafka_adapter_kafka_serialization_format }}"
Environment="PORT=8080"
Environment="LOG_LEVEL={{ prometheus_kafka_adapter_log_level }}"
{% if prometheus_kafka_adapter_basic_auth == True %}
Environment="BASIC_AUTH_USERNAME={{ prometheus_kafka_adapter_basic_auth_username }}"
Environment="BASIC_AUTH_PASSWORD={{ prometheus_kafka_adapter_basic_auth_password }}"
{% endif %}
{% if prometheus_kafka_adapter_use_tls == True %}
Environment="KAFKA_TLS_CLIENT_CERT_FILE={{ prometheus_kafka_adapter_tls_client_cert_file }}"
Environment="KAFKA_TLS_CLIENT_KEY_FILE={{ prometheus_kafka_adapter_tls_client_key_file }}"
Environment="KAFKA_TLS_CLIENT_KEY_PASS={{ prometheus_kafka_adapter_tls_client_key_pass }}"
Environment="KAFKA_TLS_CA_CERT_FILE={{ prometheus_kafka_adapter_tls_ca_cert_file }}"
{% endif %}